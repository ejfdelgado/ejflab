<div mat-dialog-title>
    <h1 class="centrado">Editar Permisos</h1>
    <span class="boton_cerrar" [mat-dialog-close]>
        <fa-icon [icon]="faXmark"></fa-icon>
    </span>
</div>
<mat-dialog-content class="mat-typography con_form">
    <p class="texto_descripcion">Define quién puede leer, editar o administrar.</p>
    <form class="form-container layout_columna" [formGroup]="form" (ngSubmit)="guardar()">
        <div class="list_container" [formArrayName]="'formArrayName'">
            <button mat-raised-button type="button" color="primary" (click)="agregarUsuario()">
                Agregar Usuario
            </button>
            <div class="my_pair_element" *ngFor="let permiso of permisos; index as i;">
                <div class="the_identity">
                    <span>{{ permiso.who }}</span>
                </div>
                <div class="the_role" [formGroupName]="i">
                    <mat-form-field appearance="fill">
                        <mat-label>Rol</mat-label>
                        <select matNativeControl formControlName="role" required>
                            <option [ngValue]="'none'">Ninguno</option>
                            <option [ngValue]="'reader'">Lector</option>
                            <option [ngValue]="'editor'">Editor</option>
                            <option [ngValue]="'owner'">Dueño</option>
                        </select>
                    </mat-form-field>
                </div>
                <div class="the_button" (click)="borrarUsuario(i, permiso)">
                    <fa-icon [icon]="faTrash"></fa-icon>
                </div>
            </div>
        </div>
    </form>
</mat-dialog-content>
<div class="bottom_buttons">
    <button mat-raised-button color="" (click)="cancelar()">
        Cancelar
    </button>
    <button mat-raised-button color="primary" (click)="guardar()">
        Guardar
    </button>
</div>