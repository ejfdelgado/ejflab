<div class="full_screen backgrounds" [ngClass]="modelState.color">
    <div class="menu">
        <button (click)="selectView('grafo')" class="mat-menu-item manito"
            [ngClass]="{'selected': selectedView == 'grafo'}">
            <mat-icon>account_tree</mat-icon>
            <span>Árbol de decisión & estado</span>
        </button>
        <button (click)="selectView('images')" class="mat-menu-item manito"
            [ngClass]="{'selected': selectedView == 'images'}">
            <mat-icon>view_in_ar</mat-icon>
            <span>3D</span>
        </button>
        <button (click)="selectView('chat')" class="mat-menu-item manito"
            [ngClass]="{'selected': selectedView == 'chat'}">
            <mat-icon>chat</mat-icon>
            <span>Consola de control & log</span>
        </button>
        <button (click)="selectView('vr')" class="mat-menu-item manito" [ngClass]="{'selected': selectedView == 'vr'}">
            <mat-icon>visibility</mat-icon>
            <span>VR</span>
        </button>
        <button (click)="selectView('ai')" class="mat-menu-item manito" [ngClass]="{'selected': selectedView == 'ai'}">
            <mat-icon>psychology</mat-icon>
            <span>AI</span>
        </button>
    </div>
    <div *ngIf="selectedView == 'grafo'">
        <div style="width: 100%; display: flex; flex-direction: row; gap: 30px; margin: 10px 0px;">
            <div style="flex: 1; display: flex;">
                <div>
                    <select class="bigselect2 select_action" [(ngModel)]="selectedScenario"
                        (change)="updateSelectedScenario($event)">
                        <option value=""></option>
                        <option value="caso1-cooperante-si">Bar la 20-LGBTI+ Cooperante</option>
                        <option value="caso1-cooperante-no">Bar hasta el amanecer-LGBTI+ No Cooperante</option>
                        <option value="caso2-cooperante-si">Bar hasta el amanecer-Embriaguez Cooperante</option>
                        <option value="caso2-cooperante-no">Bar hasta el amanecer-Embriaguez No Cooperante</option>
                        <option value="caso3-cooperante-si">Bar hasta el amanecer-Discapacidad Cooperante</option>
                        <option value="caso3-cooperante-no">Bar hasta el amanecer-Discapacidad No Cooperante</option>
                        <option value="caso4-cooperante-si">Lote baldío-Sustancias Cooperante</option>
                        <option value="caso4-cooperante-no">Lote baldío-Sustancias No Cooperante</option>
                        <option value="caso5-cooperante-si">Plaza España-Condicion de calle Cooperante</option>
                        <option value="caso5-cooperante-no">Plaza España-Condicion de calle No Cooperante</option>
                        <option value="caso6-cooperante-si">Plaza España-Vendedor ambulante Cooperante</option>
                        <option value="caso6-cooperante-no">Plaza España-Vendedor ambulante No Cooperante</option>
                        <option value="capture-pose">Captura de Posición</option>
                    </select>
                    <button (click)="reloadScenario()" style="height: 100%;" class="mat-menu-item manito">
                        <mat-icon>refresh</mat-icon>
                        <span>Reload</span>
                    </button>
                    <button (click)="playScenario()" style="height: 100%;" class="mat-menu-item manito">
                        <mat-icon>play_circle</mat-icon>
                        <span>Play</span>
                    </button>
                    <button (click)="stopScenario()" style="height: 100%;" class="mat-menu-item manito">
                        <mat-icon>stop_circle</mat-icon>
                        <span>Stop</span>
                    </button>
                </div>
                <input type="text" class="voice_recognition" style="flex: 1;" placeholder="voice ..."
                    [(ngModel)]="myvoice" (keyup.enter)="sendVoice()" />
            </div>
            <div style="flex: 1; display: flex; flex-direction: row; gap: 5px;">
                <input type="text" style="flex: 2;" class="voice_recognition" placeholder="collision source ..."
                    [(ngModel)]="collision.of" />
                <input type="text" style="flex: 2;" class="voice_recognition" placeholder="collision target ... "
                    [(ngModel)]="collision.with" (keyup.enter)="collide()" />
                <button (click)="collide()" style="flex: 1;" class="mat-menu-item manito">
                    <mat-icon>touch_app</mat-icon>
                    <span>On</span>
                </button>
                <button (click)="uncollide()" style="flex: 1;" class="mat-menu-item manito">
                    <mat-icon>do_not_touch</mat-icon>
                    <span>Off</span>
                </button>
            </div>
        </div>
    </div>
    <div class="content full_content" *ngIf="selectedView == 'chat'">
        <div class="chat_parent">
            <div class="chat_child">
                <select class="bigselect select_action" [(ngModel)]="selectedAction" (change)="updateSample($event)">
                    <option value="chatMessage">Chat</option>
                    <option value="buscarParticipantes">Buscar participantes</option>
                    <option value="createScore">Crear Score</option>
                    <option value="updateScore">Actualizar Score</option>
                    <option value="selectScenario">Seleccionar Escenario</option>
                    <option value="stateWrite">Escribir estado</option>
                    <option value="stateRead">Leer estado</option>
                    <option value="startGame">Iniciar Entrenamiento</option>
                    <option value="endGame">Finalizar Entrenamiento</option>
                    <option value="updateCode">Actualizar Código</option>
                    <option value="writeFile">write file</option>
                    <option value="triangulacion">Triangulacion</option>
                </select>
                <textarea class="bigtextarea" style="height: 400px;" [(ngModel)]="mymessage"></textarea>
                <button (click)="sendMessage()" class="mat-menu-item manito boton_enviar" style="width: 100%;">
                    <mat-icon>play_arrow</mat-icon>
                    <span>Enviar</span>
                </button>
                <button (click)="askForFile()" class="mat-menu-item manito boton_sincornizar">
                    <mat-icon>file_upload</mat-icon>
                    <span>Sincronizar Archivo</span>
                </button>
                <ul>
                    <li *ngFor="let message of messages">{{ message }}</li>
                </ul>
            </div>
        </div>
    </div>
    <div class="content fill" *ngIf="selectedView == 'grafo'">
        <div #mySvgContainer class="all_scroll_left">
            <svg #mySvg class="graph_class noselect svg_zoom" [ngInit]="bindDragEventsThis" [innerHtml]="graphHtml"></svg>
        </div>
        <div class="all_scroll_right">
            <div class="show_json_model_container">
                <button (click)="showJsonModel('real_time')" class="mat-menu-item manito"
                    [ngClass]="{selected: showJsonModelValue == 'real_time'}">
                    <mat-icon>sports_kabaddi</mat-icon>
                    <span>Real Time</span>
                </button>
                <button (click)="showJsonModel('document')" class="mat-menu-item manito"
                    [ngClass]="{selected: showJsonModelValue == 'document'}">
                    <mat-icon>content_paste_search</mat-icon>
                    <span>Document</span>
                </button>
            </div>
            <input type="text" class="voice_recognition" placeholder="key path ..." [(ngModel)]="mypath"
                (keyup.enter)="setPath()" />
            <div class="content_pre" *ngIf="showJsonModelValue == 'real_time'">
                <pre [innerHtml]="modelStatePath | jsonColor"></pre>
            </div>
            <div class="content_pre" *ngIf="showJsonModelValue == 'document'">
                <pre [innerHtml]="modelDocumentPath | jsonColor"></pre>
            </div>
        </div>
    </div>
    <div class="content fill view3d" *ngIf="selectedView == 'images'">
        <app-threejs-gallery #gallery></app-threejs-gallery>
        <app-scrollfiles [archivos]="view3d.models" (openFile)="open3dModel($event)"
            (deleteFile)="delete3DModel($event)" [actions]="view3dModelsActions">
        </app-scrollfiles>
    </div>
    <div class="content fill view3d" *ngIf="selectedView == 'vr'">
        <app-threejs-vr #vr (vrHeadset)="vrHeadsetChanged($event)">
        </app-threejs-vr>
    </div>
    <div class="content fill view3d" *ngIf="selectedView == 'ai'">
        <div>

        </div>
    </div>
    <div class="subtitles_container no_mouse noselect" [ngClass]="{shortView: selectedView == 'images'}">
        <div class="button_container">
            <div class="language">
                <button (click)="setLanguage('es')" class="mat-menu-item manito si_mouse"
                    [ngClass]="{selected: language == 'es'}">
                    <span>ES</span>
                </button>
                <button (click)="setLanguage('en')" class="mat-menu-item manito si_mouse"
                    [ngClass]="{selected: language == 'en'}">
                    <span>EN</span>
                </button>
            </div>
            <button (click)="switchSpeechRecognition()" class="mat-menu-item manito si_mouse"
                [ngClass]="{selected: buttonText == 'Off'}">
                <mat-icon>mic</mat-icon>
                <span>{{ buttonText }}</span>
            </button>
        </div>
        <div class="white_subtitle">
            <p>{{ transcriptSpeechToText }}</p>
        </div>
    </div>
</div>